<h1>Places</h1>
<form class="rounded_box" (ngSubmit)="onSubmit()">
  <div class="row align-items-end">
    <div class="col-sm-4">
      <label class="form-label" for="name">Name</label>
      <input class="form-control" type="text" name="name" id="name" [(ngModel)]="name">
    </div>
    <div class="col-sm-3">
      <label class="form-label" for="location">Location</label>
      <input class="form-control" type="text" name="location" id="location" [(ngModel)]="location">
    </div>
    <div class="col-sm-3">
      <label class="form-label" for="type">Type</label>
      <select class="form-select" name="type" id="type" [(ngModel)]="type">
        <option value="">All</option>
        <option value="Indoor">Indoor</option>
        <option value="Outdoor">Outdoor</option>
      </select>
    </div>
    <div class="col-sm-2 ">
      <button type="submit" class="btn btn-primary">Search</button>
    </div>
  </div>
</form>

<table id="places-table" class="table table-striped table-bordered" cellSpacing="0" width="100%">
    <thead>
        <tr>
            <!-- We make the table headers clickable to sort the table by that column -->
            <th class="th-sm col-sm-4" (click)="sortData('name')" style="cursor: pointer;">Name <i class="fas fa-sort-down"></i></th>
            <th class="th-sm col-sm-4" (click)="sortData('location')" style="cursor: pointer;">Location <i class="fas fa-sort-down"></i></th>
            <th class="th-sm col-sm-4">Type</th>
            <th class="th-sm col-sm-1"></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let place of places">
            <td>{{ place.name }}</td>
            <td>{{ place.location }}</td>
            <td>{{ place.type }}</td>
            <td><a [routerLink]="['/place/', place.place_id]"><i class="fas fa-circle-info"></i></a></td>
        </tr>
    </tbody>
</table>

<!-- We use the variable declared in the component to set the number of items per page -->
<mat-paginator
  [length]="totalPlaces"
  [pageSize]="placesPerPage"
  [pageSizeOptions]="pageSizeOptions"
  (page)="onPageChange($event)"
></mat-paginator>



